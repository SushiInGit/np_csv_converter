<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.3.0/exceljs.min.js"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>


    <!--  Settings - Modal -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <h2>Settings</h2>
            <div id="timezoneDiv">
                <label for="timezone">Timezone:</label>
                <select id="timezone">
                    <option value="UTC">UTC</option>
                    <option value="Europe/Berlin">Europe/Berlin (CEST)</option>
                    <option value="America/New_York">America/New_York (EDT)</option>
                    <option value="Asia/Tokyo">Asia/Tokyo (JST)</option>
                    <option value="Australia/Sydney">Australia/Sydney (AEST/AEDT)</option>
                    <option value="America/Los_Angeles">America/Los_Angeles (PST/PDT)</option>
                    <option value="Europe/London">Europe/London (BST)</option>
                    <option value="Asia/Kolkata">Asia/Kolkata (IST)</option>
                    <option value="Africa/Johannesburg">Africa/Johannesburg (SAST)</option>
                </select>
            </div>
            <div id="dateformatDiv">
                <label for="dateformat">Dateformat:</label>
                <select id="dateformat">
                    <option value="en-US">MM/DD/YYYY</option>
                    <option value="en-GB">DD/MM/YYYY</option>
                    <option value="de-DE">DD.MM.YYYY</option>
                    <option value="ja-JP">YYYY-MM-DD</option>
                </select>
            </div>
            <div id="use12hClockDiv">
                <label for="use12hClock">12h clock</label>
                <input type="checkbox" id="use12hClock" />
            </div>
            <div id="timeFirstDiv">
                <label for="timeFirst">Time first</label>
                <input type="checkbox" id="timeFirst" />
            </div>
            <div id="timezoneOffsetDiv">
                <label for="timezoneOffset">Timezone offset</label>
                <input type="number" id="timezoneOffset" min="-12" max="12" step="1" value="0">
            </div>
            <div id="showUTCDiv">
                <label for="showUTC">Show UTC next to formatted time</label>
                <input type="checkbox" id="showUTC" />
            </div>
            <br />
            <button id="saveSettings" onchange="resetTable()">Save</button>
            <button id="closeSettings" onchange="resetTable()">Close</button>
        </div>
    </div>

    <!-- File Upload Modal -->
    <div class="modal" id="fileUploadModal">
        <div class="modal-content" id="modalcontent">
            <h2>File upload</h2>
            <div id="dropZone">Drag & Drop or click to Upload a Excel-File.</div>
            <div id="dropZoneError">An error occurred during the file upload. Please try again or upload a valid file. If the problem persists, contact support.</div>
            <input type="file" id="fileInput" style="display: none;">
            <button id="closeFileUpload">Close</button>
        </div>
    </div>

    <!-- Search Box-->
    <div class="head-container">
        <div id="fileControl">
            <input type="text" id="searchInput" placeholder="Search..." onkeyup="searchTable()" />
            <div class="sheet">
                <label for="sheet">Sheet</label>
                <input type="number" id="sheet" min="1" step="1" value="1">
                <button class="upload-button" id="fileUploadPopup" onchange="resetTable()">üìÇ File Upload</button>
                <button class="settings-button" id="settingsPopup" onchange="resetTable()">‚öôÔ∏è Settings</button>
            </div>
        </div>
    </div>

    <!-- Content Output -->
        <div class="content">
            <div id="welcomeDiv" class="welcomeDiv">
                <center><h2>Welcome!</h2>
                To get the most out of this website, please upload a CSV or Excel file. Once the file is uploaded, you‚Äôll unlock full access to all the features and tools available.<br />                
                Simply click the upload button to get started.<br />
                <br />
                If you encounter any issues during the upload process, feel free to reach out for support.</center>
            </div>
            <div class="headTable" id="headTable">
                <div class="headTablesheet">
                    <label for="sheet">Sheet</label>
                    <input type="number" id="sheet" min="1" step="1" value="1">
                </div>
                <div class="headTablecopybtn">
                    <button id="copyTable">Copy table (enables copy paste to excel)</button>
                </div>
            </div>
        <!-- Table Display-->
        <table id="phoneRecords"></table>

        <!-- Footer-->
        <footer><p>Project located on <a href="https://github.com/SushiInGit/np_csv_converter/">GitHub</a></p></footer><br />
    </div>
    
    <!-- ajax and render scripts-->
    <script src="script/script.js"></script>
    <script src="script/settings.js"></script>
    <script src="script/fileupload.js"></script>
    <script src="script/search.js"></script>
</body>

</html>
